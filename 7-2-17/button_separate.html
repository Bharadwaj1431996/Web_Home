<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script type="text/javascript" 
	src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" 
	src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/jquery-ui.js"></script>
	<script src="js/jquery-1.6.2.min.js" type="text/javascript"></script>
<script src="js/jquery-ui-1.8.16.custom.min.js" type="type/javascript"></script>
<link rel="stylesheet" type="text/css" 
	href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css"/>
</head>

<script>
	var button_number=0;
</script>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<!============================================================*/ !>
	<div id="geth" style="display: block">
	<div name='ima'  class='ui-resizable-handle ui-resizable-n' style='display:block;background-color: cyan;z-index:3;border-radius:50%; width: 8px; height: 8px;'></div>
	<div name='imageReSize' id="center2" id= purpose='cen' class='ui-resizable-handle ui-resizable-e' style='display:block;z-index:3;background-color: cyan;border-radius:50%; width: 8px; height: 8px;'></div>
	<div name='ima'  class='ui-resizable-handle ui-resizable-s' style='display:block;background-color: cyan;border-radius:50%;z-index:3; width: 8px; height: 8px;'></div>
	<div name='imageReSize' id="center1" purpose='cen' class='ui-resizable-handle ui-resizable-w' style='display:block;background-color: cyan;z-index:3;border-radius:50%; width: 8px; height: 8px;'></div>
	<div name='imageReSize' class='ui-resizable-handle ui-resizable-ne' style='display:block;background-color: cyan;border-radius:50%;z-index:3; width: 8px; height: 8px;'></div>
	<div name='imageReSize' class='ui-resizable-handle ui-resizable-se' style='display:block;background-color: cyan;border-radius:50%;z-index:3; width: 8px; height: 8px;bottom:-5px;right:-5px;'></div>
	<div name='imageReSize' class='ui-resizable-handle ui-resizable-sw' style='display:block;background-color: cyan;border-radius:50%;z-index:3; width: 8px; height: 8px;'></div>
	<div name='imageReSize' class='ui-resizable-handle ui-resizable-nw' style='display:block;background-color: cyan;border-radius:50%;z-index:3; width: 8px; height: 8px;'></div>
	</div>
	<button class="w3-btn w3-red" style="padding: 10px" onclick="newButton()">Button</button>
	<br>
	<script>
	function newButton()
	{
		var temp;
		var add_points;
		var button = document.createElement('button');
		button.innerHTML="Button";
		button.id="button"+button_number;
		temp=button.id;
		button.style.width = "100%";
		button.style.height = "100%";
		button_number++;
		var div = document.createElement("div");
		div.style.display="block";
		div.style.position="relative";
		var div_id=("div"+(button_number-1));
		$(div).attr("id",div_id);
		$(div).append(button);
		$("#geth").clone(false).find("*[id]").andSelf().each(function() {add_points=$(this).html(); $(this).attr("id", $(this).attr("id") + (button_number-1)); });
		var ele="#div"+(button_number-1);
		console.log("ele"+ele);
		$(function() 
		{
			$(div).draggable(
			{
				cancel: false
			});
		});
		//$(ele).resizable();
		$(div).prepend(add_points);
		$("body").append(div);
		x((button_number-1),"div")

		
	}
	function x(ids,pur)
	{
		var modified="#"+pur+ids;
		var id_alone=pur+""+ids;
		console.log(id_alone);
		console.log("modified "+modified);
		var set_position = function(ids,width, height)
		{
			console.log(height);
			$("#center2"+ids).css('top', (height/2-4)+'px');//No i18N
			$("#center1"+ids).css('top', (height/2-4)+'px');//No i18N
		};
		$(modified).resizable({
		handles: {
			'e':'.ui-resizable-e', //No i18N
			'w':'.ui-resizable-w',//No i18N
			'ne': '.ui-resizable-ne',//No i18N
			'se': '.ui-resizable-se',//No i18N
			'sw': '.ui-resizable-sw',//No i18N
			'nw': '.ui-resizable-nw'//No i18N
		},
		create: function( event, ui ) 
		{
			console.log("create");
			var width = $(event.target).width();
			var height = $(event.target).height();
			set_position(width, height);
		},
		resize: function(event, ui)
		{
			var width = $(event.target).width();
			var height = $(event.target).height();
			var id_for_save=jQuery(this).attr("id");
			document.getElementById(id_alone).style.fontSize= (height-50)+"px";
			set_position(ids,width,height);
		}});
	}
	
</script>
</body>
</html>